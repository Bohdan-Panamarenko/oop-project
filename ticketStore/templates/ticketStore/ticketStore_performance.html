{% extends 'base.html' %}

{% block title %}TicketStore{% endblock %}

{% block content %}
    <h1>TicketStore <a href="{% url 'ticketStore_hot' %}"><button class="btn btn-warning">Hot tickets</button></a></h1>
    <br>
    <style>
        .features {
            color: #dce3fa;
            margin-top: 10px;
            text-align: center;
            width: 50%;
        }
        .ticketStore-warning {
            float: right;
            background: #dce3fa;
            width: 10%;
            height: 100%;
            color: #000000;
        }
        .ticketStore-warning li {
            color: black;
            display: block;
            margin-top: 20px;
            transition: transform .6s ease;
        }
        .ticketStore-warning li:hover, .ticketStore-warning a:hover {
            color: #eb5959;
            text-decoration: none;
            transform: scale(1.05);
        }
        h1 {
            color: #dce3fa;
            text-align: left;
        }
        .button {
            background-color: #008CBA;
            float: left;
            color: black;
            display: block;
            height: 40px;
            width: 40px;
            text-align: centre;
        }
        .button:focus {
            background-color: red;
        }
        .btn-not-availability {
            opacity: 0.6;
            cursor: not-allowed;
        }

        form {
            width: 400px;
            margin-top: 40px;
        }

        .custom-checkbox+label {
              display: inline-flex;
              align-items: center;
              user-select: none;
        }
        .custom-checkbox+label::before {
              content: '';
              display: inline-block;
              width: 1em;
              height: 1em;
              flex-shrink: 0;
              flex-grow: 0;
              border: 1px solid #adb5bd;
              border-radius: 0.25em;
              margin-right: 0.5em;
              background-repeat: no-repeat;
              background-position: center center;
              background-size: 50% 50%;
        }
    </style>
        <div class="alert ticketStore-warning">
            {% with total_tickets=ticketStore|length %}
            {% if ticketStore|length > 0 %}
            In ticketStore:
            <a href=" {% url 'ticketStore:ticketStore_detail' %} ">
                {{ total_tickets }} tickets, {{ ticketStore.get_total_price }} $
            </a>
            {% else %}
            <p>ticketStore empty</p>
            {% endif %}
            {% endwith %}
            <a href="{%  url 'ticketStore_main'  %}"><li><i class="fas fa-store"></i> go to store</li></a>
        </div>
        {% if tickets %}
            {% for el in tickets %}
                {% if el.poster_id_id == 1 and el.availability %}
                    <button class="button">{{ el.place }}</button>
                    <script>
                    </script>
                    {% if el.place == 10 %}
                        <br><br>
                    {% endif %}
                    {% if el.place == 20 %}
                        <br><br>
                    {% endif %}
                    {% if el.place == 30 %}
                        <br><br>
                    {% endif %}
                    {% if el.place == 40 %}
                        <br><br>
                    {% endif %}
                {% endif %}
            {% endfor %}
        {% else %}
            <p>no tickets</p>
        {% endif %}
        <br> <br>
        <div class="features">
            <h1>Форма придбання квитків</h1>
            <form method="post">
                {% csrf_token %}
                {{ form.name }}<br>
                {{ form.phone }}<br>
                {{ form.mail }}<br>
                {{ form.tickets }}<br>
                <label for="tickets">Оберіть білети</label>
                <input id="tickets" type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets">1
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets">2
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets">3
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets">4
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets">5
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets">6
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets">7
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets">8
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets">9
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets"> 10
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets"> 11
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets"> 12
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets"> 13
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets"> 14
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets"> 15
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets"> 16
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets"> 17
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets"> 18
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets"> 19
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets"> 20
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets"> 21
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets"> 22
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets"> 23
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets"> 24
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets"> 25
                <input type="checkbox" class="custom-checkbox" placeholder="Білети" name="tickets"> 26
                <input type="checkbox" name="tickets"> 27
                <input type="checkbox" name="tickets"> 28
                <input type="checkbox" name="tickets"> 29
                <input type="checkbox" name="tickets"> 30
                <input type="checkbox" name="tickets"> 31
                <input type="checkbox" name="tickets"> 32
                <input type="checkbox" name="tickets"> 33
                <input type="checkbox" name="tickets"> 34
                <input type="checkbox" name="tickets"> 35
                <input type="checkbox" name="tickets"> 36
                <input type="checkbox" name="tickets"> 37
                <input type="checkbox" name="tickets"> 38
                <input type="checkbox" name="tickets"> 39
                <input type="checkbox" name="tickets"> 40
                <input type="checkbox" name="tickets"> 41
                <input type="checkbox" name="tickets"> 42
                <input type="checkbox" name="tickets"> 43
                <input type="checkbox" name="tickets"> 44
                <input type="checkbox" name="tickets"> 45
                <input type="checkbox" name="tickets"> 46
                <input type="checkbox" name="tickets"> 47
                <input type="checkbox" name="tickets"> 48
                <input type="checkbox" name="tickets"> 49
                <input type="checkbox" name="tickets"> 50
                <span>{{ error }}</span>
                <button class="btn btn-success" type="submit"> Замовити </button>
            </form>
        </div>
{% endblock %}